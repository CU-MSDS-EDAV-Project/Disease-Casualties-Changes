[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Deaths of Different Diseases",
    "section": "",
    "text": "1 Introduction\nSince the COVID-19 outbreak, many people have died due to the disease. In order to survive and maintain healthy, people may have gradually changed their mindset and hygiene habits accordingly. Owing to this potential change, we are interested in finding if there are any changes to disease casualties and other plausible factors that might also cause the changes.\nWe first started researching diseases transmitted through similar manners i.e. influenza and pneumonia. We would like to explore whether the emergence of COVID-19 affected the prevalence of casualties in influenza or/and pneumonia before and after the COVID-19 outbreak. Specifically, we are interested in the following aspects of the questions:\n- How is the change reflected nationally over the time frame from 2019 to 2021?\n- How is the change reflected across different regions such as states? Does it have similar trends among states with the top casualties?\nAfter focusing on influenza and pneumonia, we would like to know the current prevalence of other disease casualties as a whole and individually. For instance, how are the counts of the total deaths spread out in the following categories:\n1. Natural cause\n2. Septicemia\n3. Malignant neoplasms\n4. Diabetes mellitus\n5. Alzheimer disease\n6. Influenza and pneumonia\n7. Respiratory diseases (Combine lower respiratory with other respiratory ones)\n8. Diseases of heart\n9. Cerebrovascular diseases\nWith the exploration into various diseases’ casualties, it is worthwhile to consider if national coverage of the vaccines affects disease casualties. For example, do states with the lowest casualties have the higher or highest vaccination coverage as compared to other states?\nWhile assorted types of static graph could literally offer us comprehensive understanding and overview of the our data, some simple dynamic graphs of interactions with readers still brings novel idea and impression on our data."
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "2.1 Description",
    "text": "2.1 Description\nTo find out whether there are any changes to disease casualties and other plausible factors that might also cause the changes, we collected several datasets from Centers for Disease Control and Prevention. Thanks to the easy access to the data by the Centers for Disease Control and Prevention, the datasets are all downloadable in csv file types. Thus, we first downloaded the data and then uploaded to the “data” folder in the working directory of the project for convenience of data cleaning, processing and visualizing.\nData Source 1: Pneumonia and Influenza Mortality Surveillance\nThe first one is “Pneumonia and Influenza Mortality Surveillance” from National Center for Health Statistics (NCHS) Mortality Surveillance System, a table of dimension 19345 by 14 when choosing state data. The data sources are collected by NCHS through State Vital Statistics Offices across the United States. The deaths which is confirmed through death certificate include multiple causes associated with influenza, pneumonia, or COVID. Because the data are collected weekly, they are updated and aggregated by weeks and will be displayed from 1 to 52 through a complete year. Note that the value total deaths include all the frequency based on ICD-10 multiple cause of death so it doesn’t equal to the sum of deaths from influenza, pneumonia and COVID-19 only.\nData Source 2: Weekly Provisional Counts of Deaths by State and Select Causes, 2020-2023\nThe second one is “Weekly Provisional Counts of Deaths by State and Select Causes, 2020-2023” by National Center for Health Statistics (NCHS), a table of dimension 10476 by 35. The data is collected by NCHS through the Vital Statistics Cooperative Program and updated as of September 27, 2023. The mortality data are based on the death certificates in all the states include counts of death by cause, week and state but they excludes the nonresidents and fetus. Notice that the provisional deaths are based on the flow of the mortality data in the National Vital Statistics System so there is a time lapse between the time deaths occur and the time to submit and eventually reflected on the system. Also, we need to be aware that the cause of the death classification is categorized by ICD-10 codes. So the total values of deaths is not equal to the sum of the listed deaths in other categories.\nData Source 3: Weekly Cumulative Influenza Vaccination Coverage-Youth;Adult\nThe final ones are “Weekly Cumulative Influenza Vaccination Coverage, Children 6 months through 18 years, United States” with dimension of 9895 by 28 and “Weekly Cumulative Influenza Vaccination Coverage, Adults 18 and Older United States” with dimension of 6351 by 22 from National Center for Immunization and Respiratory Diseases (NCIRD). The data are updated regularly throughout the flu seasons whenever new data are available. The influenza vaccination coverage is assessed through the National Immunization Survey - Adult COVID Module (NIS-ACM) providing weekly influenza vaccination coverage estimates. Notice that the weekly influenza surveillance report is prepared by the Influenza Division so the data are subject to the changes according the the reports received."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research Plan",
    "text": "2.2 Research Plan\nWe first load the required libraries for loading, cleaning and processing data for all the datasets.\n\n\nCode\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(reshape2)\nlibrary(gridExtra)\nlibrary(stringr)\nlibrary(tidyverse)\n\n\nSince all data sets are collected weekly, it is intuitive to merge the data across different sources and then group them by states or by weeks in general sense. We may clean and process data by keeping variables indicating weeks, states, ages, and deaths of influenza or/and pneumonia to demonstrate what are the changes before and after the COVID-19 outbreak. Depending on the graphs’ needs and availability of data, we could potentially extend the range of data from comparing year 2019 with year 2022 to a wider range of year such as from year 2018 to 2019 and with those from 2021 to 2023. With larger pool of the data points, it is more likely to show the effects of COVID-19 on the casualties of diseases of interest. A brief show of dataset 1 without any merging is as follows:\n\n\nCode\ndf1 = read.csv('data/data1.csv')\ndf1_filter = df1 %&gt;% select('SUB.AREA','SEASON','AGE.GROUP','WEEK','NUM.INFLUENZA.DEATHS','NUM.PNEUMONIA.DEATHS','NUM.COVID.19.DEATHS','TOTAL.DEATHS')\ncolnames(df1_filter) &lt;- c('state','season','age_group','week','influenza','pneumonia','covid','total')\nhead(df1_filter)\n\n\n    state  season age_group week influenza pneumonia covid total\n1 Alabama 2023-24       All   40         0        37    18   961\n2 Alabama 2023-24       All   41         0        60    19   987\n3 Alabama 2023-24       All   42         0        43    12   927\n4 Alabama 2023-24       All   43         1        46     6   897\n5 Alabama 2023-24       All   44         1        40    16   825\n6 Alabama 2023-24       All   45         0        31    10   607\n\n\nAfter examining the trends of specific diseases, it is reasonable to apply the same logic to other diseases of interest. However, instead of comparing before and after disease outbreak individually, we are comparing horizontally across different kinds of disease to show how the total deaths spread out in different categories using heatmaps of 10 including one with total casualties as a reference while each of rest is representing a category and its death frequency. A quick overview of our dataset 2 is:\n\n\nCode\ndf2 = read.csv('data/data2.csv')\ndf2_filter = df2 %&gt;% select('MMWR.Year','MMWR.Week','All.Cause','Natural.Cause','Septicemia..A40.A41.','Malignant.neoplasms..C00.C97.','Diabetes.mellitus..E10.E14.','Alzheimer.disease..G30.','Influenza.and.pneumonia..J09.J18.','Chronic.lower.respiratory.diseases..J40.J47.','Other.diseases.of.respiratory.system..J00.J06.J30.J39.J67.J70.J98.','Nephritis..nephrotic.syndrome.and.nephrosis..N00.N07.N17.N19.N25.N27.','Symptoms..signs.and.abnormal.clinical.and.laboratory.findings..not.elsewhere.classified..R00.R99.','Diseases.of.heart..I00.I09.I11.I13.I20.I51.','Cerebrovascular.diseases..I60.I69.','COVID.19..U071..Multiple.Cause.of.Death.','COVID.19..U071..Underlying.Cause.of.Death.')\ncolnames(df2_filter) &lt;- c('year','week','all_cause','natural','septicemia','neoplasms','miabete','alzheimer','influenza/pneumonia','lower_respiratory','other_respiratory','nephritis','abnormal','heart','cerebrovascular','covid_multiple','covid_underlying')\nhead(df2_filter)\n\n\n  year week all_cause natural septicemia neoplasms miabete alzheimer\n1 2020    1     60179   55010        843     11567    1829      2537\n2 2020    2     60735   55755        861     11963    1942      2566\n3 2020    3     59363   54516        829     11701    1819      2491\n4 2020    4     59162   54401        828     11879    1864      2517\n5 2020    5     58834   54001        811     11963    1828      2480\n6 2020    6     59491   54416        806     11704    1957      2515\n  influenza/pneumonia lower_respiratory other_respiratory nephritis abnormal\n1                1559              3501              1068      1094      630\n2                1528              3708              1035      1092      649\n3                1484              3526               992      1121      612\n4                1488              3403               979      1107      638\n5                1411              3313               981      1074      616\n6                1463              3413               975      1135      600\n  heart cerebrovascular covid_multiple covid_underlying\n1 14204            3110              0                0\n2 13911            3189              1                1\n3 13593            3256              2                1\n4 13612            3185              3                2\n5 13465            3084              0                0\n6 14005            3056              4                3\n\n\nAlthough alert of the risks for assorted disease casualties is a good start, we still need some kinds to actions to combat or counteract with such situations. The most common solution to such challenges is through immunization. We would like to discover the correlation between vaccine coverage and deaths. According to our common sense and public education on vaccination, we would expect to have a negative relationship. However, it remains to be verified by a scatter plot of vaccination coverage versus casualties of different diseases grouped by states so we would have each point representing a state with a specific kind of disease. A brief show of our data for youth and adults are as shown below:\n\n\nCode\ndf3_youth = read.csv('data/data3_youth.csv')\ndf3_adult = read.csv('data/data3_adult.csv')\ndf3_youth_filter = df3_youth %&gt;% select('Geography_Name','Demographic_Name','Month_Week','n_unweighted','n_weighted','Influenza_Season','Legend_Label') %&gt;% filter(Geography_Name !='National')\ndf3_adult_filter = df3_adult %&gt;% select('Geographic_Name','Demographic_Name','Month_Week','n_unweighted','Influenza_Season','Legend') %&gt;% filter(Geographic_Name !='National') %&gt;% filter(!str_detect(Geographic_Name,'Region'))\ncolnames(df3_youth_filter) &lt;- c('state','age','week','unweighted_death','weighted_death','season','legend')\ncolnames(df3_adult_filter) &lt;- c('state','age','month','unweighted_death','season','legend')\nhead(df3_youth_filter)\n\n\n       state     age           week unweighted_death weighted_death    season\n1    Alabama Overall October Week 1               71        2042155 2019-2020\n2     Alaska Overall October Week 1               75         468509 2019-2020\n3    Arizona Overall October Week 1               42        3757133 2019-2020\n4   Arkansas Overall October Week 1               12         272070 2019-2020\n5 California Overall October Week 1               42        6702440 2019-2020\n6   Colorado Overall October Week 1               42        1362564 2019-2020\n                                   legend\n1    2019-2020, Alabama. Overall: Overall\n2     2019-2020, Alaska. Overall: Overall\n3    2019-2020, Arizona. Overall: Overall\n4   2019-2020, Arkansas. Overall: Overall\n5 2019-2020, California. Overall: Overall\n6   2019-2020, Colorado. Overall: Overall\n\n\nCode\nhead(df3_adult_filter)\n\n\n       state       age           month unweighted_death    season\n1   Virginia 18+ years November Week 3              622 2023-2024\n2   Virginia 18+ years November Week 3              622 2023-2024\n3   Virginia 18+ years November Week 3             4125 2023-2024\n4   Virginia 18+ years November Week 3             4125 2023-2024\n5 Washington 18+ years November Week 3              123 2023-2024\n6 Washington 18+ years November Week 3              123 2023-2024\n                                      legend\n1   2023-2024, Virginia, Overall (18+ years)\n2   2023-2024, Virginia, Overall (18+ years)\n3   2023-2024, Virginia, Overall (18+ years)\n4   2023-2024, Virginia, Overall (18+ years)\n5 2023-2024, Washington, Overall (18+ years)\n6 2023-2024, Washington, Overall (18+ years)"
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.3 Missing value analysis",
    "text": "2.3 Missing value analysis\nAfter brief observation on the data sets, we realized that all the data sets have some kinds of missing values which will affect the our result analysis. They are reflected in the following aspects individually:\nIn dataset 1, we noticed that there are specific weeks of some states that have missing values. For example, in week 46 Alaska, Delaware, District of Columbia, Indiana, Kentucky, Louisiana, Montana, Nevada and North Carolina are all showing “insufficient data”. Meanwhile, Nevada is missing all the data for the year 2023 from week 40 to week 46.\n\n\nCode\ndata1 &lt;- read.csv(\"data/data1.csv\")\n\n# Calculating the number of missing values per column\nmissing_values_counts &lt;- colSums(is.na(data1))\n\n# Create a new dataframe indicating if each value is missing\nmissing_values &lt;- data1 %&gt;% mutate(across(-SUB.AREA, is.na))\n\n# Calculate the proportion of missing values by state for each variable\nmissing_values_proportion &lt;- missing_values %&gt;% \n  group_by(SUB.AREA) %&gt;%\n  summarise(across(everything(), ~ sum(., na.rm = TRUE) / n()))\n\n# Reshape the data for the heatmap\nlong_format &lt;- melt(missing_values_proportion, id.vars = 'SUB.AREA')\n\n# Plot the heatmap\nggplot(long_format, aes(x = variable, y = SUB.AREA, fill = value)) +\n  geom_tile() +\n  scale_fill_gradient(low = \"grey\", high = \"red\") +\n  labs(x = \"Variable\", y = \"Sub-Area\", fill = \"Proportion Missing\") +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 90, hjust = 1, size = 8),\n    axis.text.y = element_text(size = 4))\n\n\n\n\n\nIn dataset 2, a lot of diseases have null values different states such as Alaska, Arkansas, Colorado, Connecticut, Delaware, District of Columbia, Hawaii, Idaho, Indiana, Iowa, Kansas, Louisiana, Maine, Maryland, Minnesota, most of which are missing in influenza and pneumonia, and abnormal clinical findings. Since the column name is relatively long in this file, we use column index while ploting instead.\n\n\nCode\ndata2 &lt;- read.csv(\"data/data2.csv\")\n\n# Define a function to count missing values\ncount_missing &lt;- function(x) {\n  na_count &lt;- sum(is.na(x))             # Count NA values\n  blank_count &lt;- sum(x == \"\", na.rm = TRUE) # Count blank strings, remove NA from count\n  return(na_count + blank_count)\n}\n\n# Apply this function to every column in the dataframe\nmissing_counts &lt;- sapply(data2, count_missing)\n\n# Convert missing_counts to a dataframe\nmissing_data_df &lt;- data.frame(\n  Index = seq_along(missing_counts), # Create an index column\n  Variable = names(missing_counts),\n  Missing = missing_counts,\n  NonMissing = nrow(data2) - missing_counts\n)\n\n# Melt the dataframe for ggplot2\nmissing_data_long &lt;- missing_data_df %&gt;%\n  pivot_longer(cols = c(Missing, NonMissing), names_to = \"Status\", values_to = \"Count\")\n\n# Plot the stacked bar chart using the index for the x-axis\nggplot(missing_data_long, aes(x = Index, y = Count, fill = Status)) +\n  geom_bar(stat = \"identity\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(hjust = 1)) +\n  labs(x = \"Variable Index\", y = \"Count\", fill = \"Data Status\") +\n  ggtitle(\"Missing vs Non-Missing Data Counts per Variable Index\")\n\n\n\n\n\nIn dataset 3, it seems that Guam in “Weekly Cumulative Influenza Vaccination Coverage for Children” tends to have missing values for a few estimation variables such as point estimate, and confidence intervals while the data belongs to “Up-to-date” indicator label in “Weekly Cumulative Influenza Vaccination Coverage for Adults” are highly likely to appear missing.\n\n\nCode\ndata3_adult &lt;- read.csv(\"data/data3_adult.csv\")\ndata3_youth &lt;- read.csv(\"data/data3_youth.csv\")\n\n# Define a function to count missing values\ncount_missing &lt;- function(x) {\n  na_count &lt;- sum(is.na(x))             # Count NA values\n  blank_count &lt;- sum(x == \"\", na.rm = TRUE) # Count blank strings, remove NA from count\n  return(na_count + blank_count)\n}\n\n# Apply this function to every column in the dataframe\nmissing_counts3a &lt;- sapply(data3_adult, count_missing)\nmissing_counts3y &lt;- sapply(data3_youth, count_missing)\n# Creating a data frame for ggplot\nmissing_data_df3a &lt;- data.frame(\n  Variable = names(missing_counts3a),\n  MissingValues = missing_counts3a\n)\n\n# Plotting the bar chart\nggplot(missing_data_df3a, aes(x = Variable, y = MissingValues)) +\n  geom_bar(stat = \"identity\") +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +\n  labs(x = \"Column Names\", y = \"Number of Missing Values\", title = \"Missing Data by Columns for Data3_Adult File\")\n\n\n\n\n\nCode\n# Creating a data frame for ggplot\nmissing_data_df3y &lt;- data.frame(\n  Variable = names(missing_counts3y),\n  MissingValues = missing_counts3y\n)\n\n# Plotting the bar chart\nggplot(missing_data_df3y, aes(x = Variable, y = MissingValues)) +\n  geom_bar(stat = \"identity\") +\n  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +\n  labs(x = \"Column Name\", y = \"Number of Missing Values\", title = \"Missing Data by Columns for Data3_Youth File\")\n\n\n\n\n\nIn dataset 4, which originates from the same data source as dataset 1, there is a distinct difference in scope. While dataset 1 contains data at the state level, dataset 4 expands its coverage to encompass national-level data.\n\n\nCode\n# Read data\ndata4 &lt;- read.csv(\"data/data4.csv\")\n\n# Prepare the data by creating a binary matrix where 1 indicates a missing value and 0 indicates a present value\ndata4_missing &lt;- data4 %&gt;%\n  mutate(across(everything(), ~ ifelse(is.na(.), 1, 0)))  # Convert NAs to 1\n\n# Add a row number column to represent each row in the original dataset\ndata4_missing$row_id &lt;- seq_len(nrow(data4_missing))\n\n# Convert this dataframe to a long format for plotting\ndata4_long &lt;- data4_missing %&gt;%\n  pivot_longer(cols = -row_id, names_to = \"variable\", values_to = \"is_missing\") %&gt;%\n  mutate(is_missing = factor(is_missing, labels = c(\"Present\", \"Missing\")))  # Convert to factor for coloring\n\n# Create the heatmap\nggplot(data4_long, aes(x = variable, y = row_id, fill = is_missing)) +\n  geom_tile() +\n  scale_fill_manual(values = c(\"Present\" = \"grey\", \"Missing\" = \"black\")) +\n  theme_minimal() +\n  theme(\n    axis.text.x = element_text(angle = 90, vjust = 1, hjust=1),\n    axis.text.y = element_blank(),  \n    axis.ticks.y = element_blank(), \n    legend.position = \"none\"\n  ) +\n  labs(x = \"Variable\", y = \"Row\") +\n  ggtitle(\"Heatmap of Missing Values in Data4\")\n\n\n\n\n\nIdeally, we would want to fill in the missing data by choosing the mean or median of the columns to replace the potential risk of removing all the N/A from the dataframe. However, in practice it is very risky to just directly to replace the emptiness with the mean or the median as we cannont conclude that mean or median would serve as good estimators for those missing values. Hence it would be more practical to go with a more conservative method rather than blindly use unverified estimators."
  },
  {
    "objectID": "results.html#how-do-diseases-with-similar-transmission-methods-compare-to-covid-19",
    "href": "results.html#how-do-diseases-with-similar-transmission-methods-compare-to-covid-19",
    "title": "3  Results",
    "section": "3.1 How Do Diseases with Similar Transmission Methods Compare to COVID-19?",
    "text": "3.1 How Do Diseases with Similar Transmission Methods Compare to COVID-19?\nDuring the outbreak, populace were educated and informed that COVID-19 is transmitted through our respiratory systems. We would like to start observing diseases that are also transmitted through our respiratory system, i.e. influenza and pneumonia, have similar or basically the same patterns as that of COVID-19.\n\n\nCode\n# Data4 is national wise data\n# Read data\ndata4 &lt;- read.csv(\"data/data4.csv\")\n\n# Change column names and remove unnecessary columns\ndata4 &lt;- data4 %&gt;%\n  rename(\n    year = SEASON,\n    week = WEEK,\n    num_influenza_death = NUM.INFLUENZA.DEATHS,\n    num_pneumonia_death = NUM.PNEUMONIA.DEATHS,\n    num_covid_death = NUM.COVID.19.DEATHS,\n    total_pic = TOTAL.PIC,\n    total_deaths = TOTAL.DEATHS\n  ) %&gt;%\n  select(-AREA, -SUB.AREA, -AGE.GROUP, -THRESHOLD, -BASELINE, -PERCENT.I, -PERCENT.P.I, \n         -PERCENT.PIC, -PERCENT.COMPLETE)\n\ndata4 &lt;- data4 %&gt;%\n  mutate(\n    num_influenza_death = as.numeric(gsub(\",\", \"\", num_influenza_death)),\n    num_pneumonia_death = as.numeric(gsub(\",\", \"\", num_pneumonia_death)),\n    num_covid_death = as.numeric(gsub(\",\", \"\", num_covid_death))\n  )\n\n# Aggregate the data by year to get the total deaths for each cause\ntotal_deaths &lt;- data4 %&gt;%\n  group_by(year) %&gt;%\n  summarise(\n    total_influenza_death = sum(num_influenza_death, na.rm = TRUE),\n    total_pneumonia_death = sum(num_pneumonia_death, na.rm = TRUE),\n    total_covid_death = sum(num_covid_death, na.rm = TRUE)\n  )\n\n# Transform data to long format for plotting\nlong_data_line &lt;- total_deaths %&gt;%\n  select(year, total_influenza_death, total_pneumonia_death, total_covid_death) %&gt;%\n  pivot_longer(\n    cols = starts_with(\"total\"),\n    names_to = \"cause\",\n    values_to = \"deaths\"\n  ) %&gt;%\n  mutate(cause = factor(cause, levels = c(\"total_influenza_death\",\n                                          \"total_pneumonia_death\",\n                                          \"total_covid_death\")))\n\n# Plot the data\nggplot(long_data_line, aes(x = year, y = deaths, color = cause, group = cause)) +\n  geom_line(size = 1) +\n  scale_color_manual(values = c(\"total_influenza_death\" = \"blue\", \n                                \"total_pneumonia_death\" = \"red\", \n                                \"total_covid_death\" = \"green\")) +\n  labs(title = \"Number of Deaths by Year\",\n       x = \"Year\",\n       y = \"Number of Deaths\",\n       color = \"Cause of Death\") +\n  theme_minimal()\n\n\n\n\n\n\nFrom the line chart above, we can see that pneumonia seems to follow the trends of COVID-19 but influenza doesn’t throughout the time span from before to after the outbreak. Hence, it would be impetuous to conclude that diseases with similar transmission methods follow the same trends in casualties at the moment."
  },
  {
    "objectID": "results.html#is-the-trend-we-observed-above-an-coincidence",
    "href": "results.html#is-the-trend-we-observed-above-an-coincidence",
    "title": "3  Results",
    "section": "3.2 Is The Trend We Observed Above An Coincidence?",
    "text": "3.2 Is The Trend We Observed Above An Coincidence?\nTo confirm our observation above, we need to dive further into the dataset individually for influenza and pneumonia year by year starting from 2016 till this year. We do so by generating a faceted plot on years, where x axis denotes week within the year; y axis denotes the number of deaths; the two lines representing the number of influenza deaths and pneumonia deaths\n\n\nCode\n# Reshape the data to long format\nlong_data_line2 &lt;- data4 %&gt;% \n  select(week, year, num_influenza_death, num_pneumonia_death) %&gt;%\n  pivot_longer(\n    cols = starts_with(\"num\"),\n    names_to = \"death_type\",\n    values_to = \"num_deaths\"\n  )\n\nlong_data_line2 &lt;- long_data_line2 %&gt;%\n  mutate(week_order = factor(week, levels = c(40:52, 1:39)))\n\n# Create the plot with facets for each season and lines for two death types\nggplot(long_data_line2, aes(x = week_order, y = num_deaths, color = death_type, group = death_type)) +\n  geom_line() +\n  facet_wrap(~ year, scales = \"free_y\") + \n  theme_minimal() +\n  labs(title = \"Weekly Death Counts by Type Across Years\",\n       x = \"Week of the Year\",\n       y = \"Number of Deaths\") +\n  scale_color_brewer(palette = \"Set1\") +\n  theme(legend.position = \"bottom\") +\n  theme(axis.text.x = element_text(vjust = 0.5)) +\n  scale_x_discrete(breaks = function(x) seq(1, length(x), by = 4))\n\n\n\n\n\n\nFrom the faceted plots above, we can see that COVID-19 affects the number of pneumonia deaths a great deal. Looking at the scale of y axis from 2019 to 2022, we observed that it dramatically increase from 4000 (first three graphs) to around 15000. However, the number of influenza death is still consistently flat across all different year and week. Meanwhile, there is an interesting trend for pneumonia where winter season or the week with low temperatures might increase the deaths of pneumonia, except for 2019 to 2020. Note that the last graph only shows a portion because we count year starting from end of a year till the end of the following year so it makes sense that it only shows a little since we are currently at the end of 2023 it just started recording the data for a whole new year."
  },
  {
    "objectID": "results.html#how-are-casualties-distributed-across-these-three-diseases",
    "href": "results.html#how-are-casualties-distributed-across-these-three-diseases",
    "title": "3  Results",
    "section": "3.3 How Are Casualties Distributed Across These Three Diseases?",
    "text": "3.3 How Are Casualties Distributed Across These Three Diseases?\nKnowing the trends individually gives us partial idea on the deaths of each disease. We cannot tell whether casualties of certain number is considered fortune or critical given the surroundings at the moment. Hence, it is more worthwhile to put them together and compare their relative proportion over the timeline. We achieve this objective through stacked bar charts where x axis is year; y axis is number of deaths and bar charts are stacked from three colors with each representing the death of COVID, influenza and pneumonia.\n\n\nCode\n# Reshape the data to a long format for plotting\nlong_data_stacked &lt;- total_deaths %&gt;%\n  select(year, total_influenza_death, total_pneumonia_death, total_covid_death) %&gt;%\n  pivot_longer(\n    cols = c(total_influenza_death, total_pneumonia_death, total_covid_death),\n    names_to = \"death_type\",\n    values_to = \"deaths\"\n  )\n\n# Plot the stacked bar chart\nggplot(long_data_stacked, aes(x = year, y = deaths, fill = death_type)) +\n  geom_bar(stat = \"identity\", position = \"stack\") +\n  labs(title = \"Total Annual Deaths by Cause\",\n       x = \"Year\",\n       y = \"Number of Deaths\",\n       fill = \"Cause of Death\") +\n  theme_minimal()\n\n\n\n\n\n\nBased on the result above, it quite obvious that the number of deaths due to these three causes in year 2020-2021 is the highest, which is consistent with our previous conclusion of the general trends of the three diseases since pneumonia follows the same trends as COVID-19 while influenza stays relatively low the cumulative result of the three will end up with a huge peak at the year 2020 to 2021. On the other hand, if we take a look at the proportion of the deaths we can see that there’s actually a drastic increase in proportion of deaths in COVID and decrease for pneumonia even though the total number of deaths in pneumonia still decreased. Specifically, the deaths of COVID even reached more than 50% of deaths among the three and then decreased after the outbreak. Interestingly, we notice that there seems to be some slight increase in the number of deaths in pneumonia last year from 2022 to 2023 as compared to pre-COVID period before 2020. However, it is still ambiguous at the moment to say if there are certain changes in deaths due to the outbreak of COVID since the pattern observed last year might still be the remain consequences of COVID. It would be more accurate to make further inference if we have the data for 2023 to 2024 by hand and compare it to last year and the year before the outbreak."
  },
  {
    "objectID": "results.html#how-are-casualties-reflected-in-each-state",
    "href": "results.html#how-are-casualties-reflected-in-each-state",
    "title": "3  Results",
    "section": "3.4 How Are Casualties Reflected in Each State?",
    "text": "3.4 How Are Casualties Reflected in Each State?\nAfter exploring national trends for these three diseases, we would like to know more about the relationships between the different types of death counts and also the relationnship between death counts and year over state level. We created a ggplotly interactive plot where x-axis is num_influenza_death, y-axis is num_pneumonia_death and the time information when hovered. It could show if there’s any correlation between the two types of deaths on a state-by-state basis over a given year.\n\n\nCode\n# Data1 is state wise data\n# Read data\ndata1 &lt;- read.csv(\"data/data1.csv\")\n\n# Change column names and remove unnecessary columns\ndata1 &lt;- data1 %&gt;%\n  rename(\n    state = SUB.AREA,\n    year = SEASON,\n    week = WEEK,\n    num_influenza_death = NUM.INFLUENZA.DEATHS,\n    num_pneumonia_death = NUM.PNEUMONIA.DEATHS,\n    num_covid_death = NUM.COVID.19.DEATHS,\n    total_pic = TOTAL.PIC,\n    total_deaths = TOTAL.DEATHS\n  ) %&gt;%\n  select(-AREA, -AGE.GROUP, -PERCENT.I, -PERCENT.P.I, -PERCENT.PIC, -PERCENT.COMPLETE)\n\n# Aggregate the data to get total yearly deaths by state\nyearly_deaths_by_state &lt;- data1 %&gt;%\n  group_by(state, year) %&gt;%\n  summarise(\n    total_influenza_death = sum(as.numeric(gsub(\",\", \"\", num_influenza_death)), na.rm = TRUE),\n    total_pneumonia_death = sum(as.numeric(gsub(\",\", \"\", num_pneumonia_death)), na.rm = TRUE)\n  ) %&gt;%\n  ungroup()\n\nyearly_deaths_by_state$state &lt;- as.factor(yearly_deaths_by_state$state)\n\n# Create an interactive scatter plot\nplot_ly(data = yearly_deaths_by_state, x = ~total_influenza_death, y = ~total_pneumonia_death, \n        type = 'scatter', mode = 'markers',\n        #color = ~state, \n        text = ~paste('State:', state, '&lt;br&gt;Year:', year),  # Text to display on hover\n        hoverinfo = 'text',  # Show text on hover\n        marker = list(size = 10, opacity = 0.6)) %&gt;%\n  layout(title = 'Total Deaths from Influenza vs. Pneumonia by State and Year',\n         xaxis = list(title = 'Total Influenza Deaths'),\n         yaxis = list(title = 'Total Pneumonia Deaths'))\n\n\n\n\n\n\n\nIn general, it seems that there’s no relationship between the two causes of deaths. Even though there’s a slight upward trends in the scatterplot, it is actually misleading in a sense that the scale of the deaths for the two disease are different. In other words, if we scale them to the same the scatterplot is highly likely to be spread out. On the other hand, there are a lot of outliers that are leading out our misinterpretation of the graph. When hovering over the points further away from either axes, we will notice that these points are mainly California, Texas and Florida in different years. That being said, it is critical and worthwhile to take a closer look at these two states and infer what might be the potential causes of these. It could be the size of the state population, the location within the state or even the history of the states which forms residents’ habits."
  },
  {
    "objectID": "results.html#do-california-texas-and-florida-tend-to-have-high-casualties-in-diseases",
    "href": "results.html#do-california-texas-and-florida-tend-to-have-high-casualties-in-diseases",
    "title": "3  Results",
    "section": "3.5 Do California, Texas and Florida Tend to Have High Casualties In Diseases?",
    "text": "3.5 Do California, Texas and Florida Tend to Have High Casualties In Diseases?\nTo verify our previous concerns on outliers which state has the highest number of deaths because of these three death causes across the year, we would like to use a heatmap to have a more straightforward idea on the frequency of death for across the years.\n\n\nCode\n# Convert the death count columns from character to numeric\ndata1 &lt;- data1 %&gt;%\n  mutate(\n    total_pic = as.numeric(gsub(\",\", \"\", total_pic))\n  )\n\n# Calculate total deaths for each state across all years\nstate_total_deaths &lt;- data1 %&gt;%\n  group_by(state) %&gt;%\n  summarise(total_pic_deaths = sum(total_pic, na.rm = TRUE)) %&gt;%\n  ungroup()\n\n# Aggregate the data by state and year\nstate_yearly_deaths &lt;- data1 %&gt;%\n  group_by(state, year) %&gt;%\n  summarise(total_pic = sum(total_pic, na.rm = TRUE)) %&gt;%\n  ungroup()\n\n# Join this information with the state_yearly_deaths and reorder the state factor\nstate_yearly_deaths &lt;- state_yearly_deaths %&gt;%\n  left_join(state_total_deaths, by = \"state\") %&gt;%\n  mutate(state = reorder(state, total_pic_deaths)) %&gt;%\n  select(-total_pic_deaths)\n\n# Reshape the data for the heatmap\nheatmap_data &lt;- reshape2::melt(state_yearly_deaths, id.vars = c(\"state\", \"year\"))\n\n# Create the heatmap\nggplot(heatmap_data, aes(x = year, y = state, fill = value)) +\n  geom_tile() +  # Use geom_tile for heatmap squares\n  scale_fill_gradient(low = \"white\", high = \"red\") +\n  labs(title = \"Heatmap of Total Deaths by State and Year\",\n       x = \"Year\",\n       y = \"State\",\n       fill = \"Total Deaths\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(hjust = 1),  \n        axis.text.y = element_text(size = 7)) \n\n\n\n\n\n\nOverall Texas, California, Florida are three states with highest number of deaths across years, especially in 2020-2021 Texas and California have the brighter red which implies more total deaths. This result and conclusion confirm our suspicion that these three states are outliers in some sense and meanwhile explain why they are further away from the axes in the previous graph."
  },
  {
    "objectID": "results.html#how-about-other-diseases-transmitted-through-other-methods-than-respiratory-systems",
    "href": "results.html#how-about-other-diseases-transmitted-through-other-methods-than-respiratory-systems",
    "title": "3  Results",
    "section": "3.6 How About Other Diseases Transmitted Through Other Methods Than Respiratory Systems?",
    "text": "3.6 How About Other Diseases Transmitted Through Other Methods Than Respiratory Systems?\nTo check that if disease transmission methods would be a factor influencing the their total deaths, we used a parallel coordinate plot, where each line is a date; each axis is one of the 10 diseases causes, to see what are the top several ones.\n\n\nCode\n# Read data\ndata2 &lt;- read.csv(\"data/data2.csv\")\n\n# Select necessary columns and rename them\ndata2 &lt;- data2 %&gt;%\n  select(occurrence = Jurisdiction.of.Occurrence,\n         year = MMWR.Year,\n         week = MMWR.Week,\n         date = Week.Ending.Date,\n         all_cause = All.Cause,\n         natural_cause = Natural.Cause,\n         septicemia = Septicemia..A40.A41.,\n         malignant_neoplasms = Malignant.neoplasms..C00.C97.,\n         diabetes_mellitus = Diabetes.mellitus..E10.E14.,\n         alzheimer = Alzheimer.disease..G30.,\n         influenza_pneumonia = Influenza.and.pneumonia..J09.J18.,\n         chronic_respiratory = Chronic.lower.respiratory.diseases..J40.J47.,\n         other_respiratory = Other.diseases.of.respiratory.system..J00.J06.J30.J39.J67.J70.J98.,\n         nephritis = Nephritis..nephrotic.syndrome.and.nephrosis..N00.N07.N17.N19.N25.N27.,\n         non_classified = Symptoms..signs.and.abnormal.clinical.and.laboratory.findings..not.elsewhere.classified..R00.R99.,\n         heart_diseases = Diseases.of.heart..I00.I09.I11.I13.I20.I51.,\n         cerebrovascular = Cerebrovascular.diseases..I60.I69.,\n         covid19_multiple = COVID.19..U071..Multiple.Cause.of.Death.,\n         covid19_underlying = COVID.19..U071..Underlying.Cause.of.Death.)\n\n# Choose ten specific diseases, including septicemia, malignant_neoplasms, diabetes_mellitus, alzheimer, influenza_pneumonia, combined respiratory, nephritis, heart_diseases, cerebrovascular, covid19)\n\n# Combine column1 and column2 into a new column called combined\ndata2 &lt;- data2 %&gt;%\n  mutate(combined_respiratory = chronic_respiratory + other_respiratory,\n         combined_covid19 = covid19_multiple + covid19_underlying)\nnew_data2 &lt;- data2 %&gt;%\n  filter(occurrence == 'United States')\nfig &lt;- plot_ly(type = 'parcoords',\n               line = list(color = as.integer(as.factor(new_data2$date))),\n               dimensions = list(\n                 list(label = 'Septicemia', values = new_data2$septicemia),\n                 list(label = 'Malignant Neoplasms', values = new_data2$malignant_neoplasms),\n                 list(label = 'Diabetes Mellitus', values = new_data2$diabetes_mellitus),\n                 list(label = 'Alzheimer', values = new_data2$alzheimer),\n                 list(label = 'Influenza Pneumonia', values = new_data2$influenza_pneumonia),\n                 list(label = 'Chronic Respiratory', values = new_data2$combined_respiratory),\n                 list(label = 'Nephritis', values = new_data2$nephritis),\n                 list(label = 'Heart Diseases', values = new_data2$heart_diseases),\n                 list(label = 'Cerebrovascular', values = new_data2$cerebrovascular),\n                 list(label = 'COVID-19', values = new_data2$combined_covid19)\n               )) %&gt;% layout(\n  title = \"Parallel Coordinates Plot for Causes of Death\",\n  font = list(size = 9)  \n               )\n\n# Show the plot\nfig\n\n\n\n\n\n\n\nFrom the parallel coordinate plots, we can infer the relationships among these diverse diseases. Since each line represents the date for each disease, we can fix the window of filters to observe the number of deaths given certain dates for each cause. If we fix the window of the filter from the top of a disease and drag it down along the axes of that disease, we find out that in general diseases that have relatively high numbers of deaths tend to have similar trends in other diseases for the same date."
  },
  {
    "objectID": "results.html#do-similar-trends-across-various-diseases-imply-pairwise-correlations",
    "href": "results.html#do-similar-trends-across-various-diseases-imply-pairwise-correlations",
    "title": "3  Results",
    "section": "3.7 Do Similar Trends Across Various Diseases Imply Pairwise Correlations?",
    "text": "3.7 Do Similar Trends Across Various Diseases Imply Pairwise Correlations?\nPreviously we discovered that there are similar trends across diversified diseases. However, this is only our observation and needs to be verified with further details. We fulfilled this by faceting on the scatter plot of pairwise disease.\n\n\nCode\nfiltered_data2 &lt;- data2 %&gt;%\n  filter(year == '2020', occurrence == 'United States')\nselected_data &lt;- filtered_data2 %&gt;%\n  select(septicemia, malignant_neoplasms, diabetes_mellitus, alzheimer, \n         influenza_pneumonia, combined_respiratory, nephritis, heart_diseases, \n         cerebrovascular, combined_covid19)\n\n# Create the scatter plot matrix\nplot &lt;- ggpairs(selected_data,\n        title = \"Scatter Plot Matrix for Disease Relationships\",\n        upper = list(continuous = wrap(\"cor\", size = 3)), \n        lower = list(continuous = wrap(\"points\", size = 0.3, alpha = 0.5)), \n        diag = list(continuous = wrap(\"densityDiag\", size = 0.5)))\n\n# Customize the plot to improve readability of labels\nplot &lt;- plot +\n  theme(\n    # Rotate the text for x and y axis labels to avoid overlap\n    axis.text.x = element_text(vjust = 1, hjust = 1, size = 3.5),\n    axis.text.y = element_text(vjust = 1, hjust = 1, size = 5),\n    axis.title.x = element_text(size = 5),\n    axis.title.y = element_text(size = 7),\n    strip.text = element_text(size = 5)\n  )\n\n# Render the plot\nplot\n\n\n\n\n\n\nFrom the results above, most of the pairs show positive relationships between the two, which matches our previous conclusion about the trends, except for a few with weak correlations or negatives. For example, the one between “Malignant Neoplasm” and “Combined Covid” shows a weak downward trend from left to right. This is consistent with our calculated value of -0.143 correlation in the upper right triangle. Although there are two other pair “Combined Covid” and “Influenza/pneumonia”, “Combined Covid” and “Combined Repiratory” both show negative values of correlation, by looking at the scatterplots we can tell that the correlations may be distorted due to some outstanding outliers in the graphs."
  },
  {
    "objectID": "results.html#are-there-any-changes-or-tendency-due-to-the-pandemic",
    "href": "results.html#are-there-any-changes-or-tendency-due-to-the-pandemic",
    "title": "3  Results",
    "section": "3.8 Are There Any Changes or Tendency Due to The Pandemic?",
    "text": "3.8 Are There Any Changes or Tendency Due to The Pandemic?\nVaccines are crucial approaches to prevent and reduce the number of deaths for diseases. After knowing the trends for various diseases, we are interested in exploring the trends for vaccines as well either nationally or statewide.\n\n\nCode\n# Read data3_adult\ndata3_adult &lt;- read.csv(\"data/data3_adult.csv\")\n\n# Change format \"Month_Week\" column (only extract the month)\ndata3_adult$Month_Week &lt;- sub(\" .*\", \"\", data3_adult$Month_Week)\n\n# Select necessary columns and rename them\ndata3_adult &lt;- data3_adult %&gt;%\n  select(g_level = Geographic_Level,\n         national_state = Geographic_Name,\n         age = Demographic_Name,\n         whether_vaccined = Indicator_Category_Label,\n         month = Month_Week,\n         year = Influenza_Season,\n         number = n_unweighted)\n\n# Apply multiple filters\ndata3_adult_national &lt;- data3_adult %&gt;%\n  filter(g_level == \"National\") %&gt;%\n  filter(age %in% c(\"18-49 years\", \"50-64 years\", \"65-74 years\", \"75+ years\")) %&gt;%\n  filter(whether_vaccined == \"Yes\")\n\n# data3_adult_state: age-18+ years\ndata3_adult_state &lt;- data3_adult %&gt;%\n  filter(g_level == \"State\") %&gt;%\n  filter(whether_vaccined == \"Yes\")\n\n# Read data3_youth\ndata3_youth &lt;- read.csv(\"data/data3_youth.csv\")\n\n# Change format \"Month_Week\" column (only extract the month)\ndata3_youth$Month_Week &lt;- sub(\" .*\", \"\", data3_youth$Month_Week)\n\n# Select necessary columns and rename them\ndata3_youth &lt;- data3_youth %&gt;%\n  select(g_level = geography_level,\n         national_state = Geography_Name,\n         age = Demographic_Name,\n         month = Month_Week,\n         year = Influenza_Season,\n         number = n_unweighted)\n\n# Apply multiple filters\ndata3_youth_national &lt;- data3_youth %&gt;%\n  filter(g_level == \"National\") %&gt;%\n  filter(age %in% c(\"6 months-4 years\", \"5-12 years\", \"13-17 years\"))\n\n# data3_youth_state: no specific age range-Overall\ndata3_youth_state &lt;- data3_youth %&gt;%\n  filter(g_level == \"State\")\n\n# Add column to data3_youth, data3_youth_national, data3_youth_state\ndata3_youth &lt;- data3_youth %&gt;%\n  mutate(whether_vaccined = \"Yes\")\ndata3_youth_national &lt;- data3_youth_national %&gt;%\n  mutate(whether_vaccined = \"Yes\")\ndata3_youth_state &lt;- data3_youth_state %&gt;%\n  mutate(whether_vaccined = \"Yes\")\n\n# Combine data3_youth with data3_adult\n# Combine data3_youth_national with data3_adult_national\n# Combine data3_youth_state with data3_adult_state\ncombined_data3 &lt;- rbind(data3_adult, data3_youth)\ncombined_data3_national &lt;- rbind(data3_adult_national, data3_youth_national)\ncombined_data3_state &lt;- rbind(data3_adult_state, data3_youth_state)\n\n# Add a new column based on age column value\ncombined_data3_state &lt;- combined_data3_state %&gt;%\n  mutate(age_group = case_when(\n    age == \"18+ years\" ~ \"adult\",\n    TRUE ~ \"youth\"\n  ))\n\n# Add a new column based on age groups for combined_data3_national dataframe\ncombined_data3_national &lt;- combined_data3_national %&gt;%\n  mutate(age_group = case_when(\n    age %in% c(\"18-49 years\", \"50-64 years\", \"65-74 years\", \"75+ years\") ~ \"adult\",\n    TRUE ~ \"youth\"\n  ))\n\n# Combine combined_data3_state and combined_data3_national to draw boxplot\n# Combine the dataframes\ncombined_data_bar&lt;- bind_rows(combined_data3_national, combined_data3_state)\n\n# Create the combined category column\ncombined_data_bar &lt;- combined_data_bar %&gt;%\n  mutate(combined_category = ifelse(g_level == \"National\",\n                                    ifelse(age_group == \"adult\", \"national-adult\", \"national-youth\"),\n                                    ifelse(age_group == \"adult\", \"state-adult\", \"state-youth\")))\n\n# Group by year, month, and combined category, then summarize to get total count per group\ncombined_data_summarized &lt;- combined_data_bar %&gt;%\n  group_by(year, combined_category) %&gt;%\n  summarise(total = sum(number, na.rm = TRUE)) %&gt;%\n  ungroup()\n\n# Plot the bar plot with groups\nggplot(combined_data_summarized, aes(x = year, y = total, fill = combined_category, group = combined_category)) +\n  geom_bar(stat = \"identity\", position = \"dodge\") +\n  labs(x = \"Year\", y = \"Total Number\", fill = \"Category\") +\n  scale_fill_brewer(palette = \"Set1\") +\n  theme(axis.text.x = element_text(hjust = 0.5),\n        legend.position = \"bottom\")\n\n\n\n\n\n\nFrom the grouped bar charts, we found that there is an increase and then a decrease in the number of vaccinations nationally for youth at both national and state levels. On the other hand, there seems to be a consistent increase in the number of vaccinations for adults. However, in general it shows a weak decrease in the number of vaccinations."
  },
  {
    "objectID": "results.html#how-is-vaccination-related-to-the-number-of-deaths-for-diseases",
    "href": "results.html#how-is-vaccination-related-to-the-number-of-deaths-for-diseases",
    "title": "3  Results",
    "section": "3.9 How is Vaccination Related to the Number of Deaths for Diseases?",
    "text": "3.9 How is Vaccination Related to the Number of Deaths for Diseases?\nAfter exploring the diseases individually, we are interested in looking at the general picture geographically. Also, we would like to know if the claim that vaccination benefits the deaths of diseases is valid for our dataset. For simplicity, we take the year 2020 to 2021 as an example for our studies. We accumulated all deaths during the year for all the diseases and grouped them states and displayed the frequency according to the darkness of the color. Similarly, we displayed the number of vaccinations by states. We would like to investigate how they are distributed by states.\n\n\nCode\n# Filter for the year 2021-2022 and sum vaccinations by state\nvaccination_data_2021_2022 &lt;- combined_data3_state %&gt;%\n  filter(year == \"2021-2022\") %&gt;%\n  group_by(national_state) %&gt;%\n  summarise(total_vaccinations = sum(number, na.rm = TRUE)) %&gt;%\n  ungroup()\n\n#  Prepare the data for choroplethr\nvaccination_data_2021_2022 &lt;- vaccination_data_2021_2022 %&gt;%\n  mutate(region = tolower(national_state)) %&gt;%\n  select(region, value = total_vaccinations)\n\n# Create the map\nmap2 &lt;- state_choropleth(vaccination_data_2021_2022, \n                 title = \"2021-2022 State Vaccination\", \n                 legend = \"Total Vaccinations\")\n\n# Data1 is state wise data\n# Read data\ndata1 &lt;- read.csv(\"data/data1.csv\")\n\n# Change column names and remove unnecessary columns\ndata1_map &lt;- data1 %&gt;%\n  rename(\n    state = SUB.AREA,\n    year = SEASON,\n    week = WEEK,\n    num_influenza_death = NUM.INFLUENZA.DEATHS,\n    num_pneumonia_death = NUM.PNEUMONIA.DEATHS,\n    num_covid_death = NUM.COVID.19.DEATHS,\n    total_pic = TOTAL.PIC,\n    total_deaths = TOTAL.DEATHS\n  ) %&gt;%\n  select(-AREA, -AGE.GROUP, -PERCENT.I, -PERCENT.P.I, -PERCENT.PIC, -PERCENT.COMPLETE)\n\n# Now, filter the data for the year 2020-2021\nstate_deaths_2020_2021 &lt;- data1_map %&gt;%\n  filter(year == \"2020-21\") %&gt;%\n  group_by(state) %&gt;%\n  summarise(total_pic = sum(as.numeric(gsub(\",\", \"\", total_pic)), na.rm = TRUE)) %&gt;%\n  ungroup()\n\n# Prepare the data for choroplethr\n# The region column must be named \"region\" and the values must be named \"value\"\nstate_deaths_2020_2021 &lt;- state_deaths_2020_2021 %&gt;%\n  mutate(region = tolower(state), value = total_pic) %&gt;%\n  select(region, value)\n\n# Create the choropleth map\nmap1 &lt;- state_choropleth(state_deaths_2020_2021,\n                 title = \"2020-2021 Total Deaths by State\",\n                 legend = \"Total Deaths\")\n\n# Combine the two maps with map2 (deaths) on top\ncombined_map &lt;- grid.arrange(map1, map2, ncol = 1, heights = c(5,5))\n\n\n\n\n\n\nBy observation, we found that California, Texas, Florida and a few other states have the highest frequency of total disease death, which matches our previous finding. On the other hand, we noticed that California, Texas, Illinois and a few other states have the highest frequency of state vaccination. Before this graphical presentation, we might think that it is because of low vaccination coverage in states such as California, Texas that they ended up with a relatively high number of deaths. Meanwhile, the connection between the two graphs makes sense since people in states with higher numbers of casualties would tend to be more cautious after keeping track of the news and would certainly be more willing to take the vaccination."
  },
  {
    "objectID": "results.html#how-are-vaccinations-distributed-in-california-and-texas-in-different-years-and-age-group",
    "href": "results.html#how-are-vaccinations-distributed-in-california-and-texas-in-different-years-and-age-group",
    "title": "3  Results",
    "section": "3.10 How Are Vaccinations Distributed in California and Texas in Different Years and Age Group",
    "text": "3.10 How Are Vaccinations Distributed in California and Texas in Different Years and Age Group\nSince California and Texas stand out quite distinctively, we would like to delve into the distribution and connection of vaccines by years and by age groups.\n\n\nCode\n# Filter for Texas and California and for the specific years\naggregated_data &lt;- combined_data3_state %&gt;%\n  filter(national_state %in% c(\"Texas\", \"California\"),\n         year %in% c(\"2019-2020\", \"2020-2021\", \"2021-2022\")) %&gt;%\n  group_by(national_state, age_group, year) %&gt;%\n  summarise(total_number = sum(number, na.rm = TRUE)) %&gt;%\n  ungroup()\n\n# Create the contingency table\ncontingency_table &lt;- xtabs(total_number ~ national_state + year + age_group, data = aggregated_data)\n\n# Create the mosaic plot with horizontal year labels\nmosaic(contingency_table, main=\"Mosaic plot of Vaccine Data\")\n\n\n\n\n\n\nFrom the result, it is straightforward to conclude that in general youth tend to take the vaccination for both states. This is actually reasonable since there are a few mandatory vaccines for students at certain ages. However, we can see that the portion of adult taking vaccination increases from 2021 to 2022, which is after the pandemic outbreak. Hence, it seems like the outbreak of COVID-19 has some influences on our mindset and behaviors. People are more willing to take vaccines, which potentially decreases the disease casualties. Meanwhile, we also find that as the year goes on, the portion of vaccination increases irrespective of the age groups. This also confirms our suspect that people will become more aware of health and relevant instructions after Covid."
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Select Year: \n\n\n\n\n\n\nIn our interactive graph section, we present data for eight distinct years. You can investigate the correlation between pneumonia and influenza fatalities by selecting a year of interest. Each point on the graph represents the aggregated death count for a particular state over the months of the chosen year. This visual representation allows for an immediate and clear understanding of the death toll relationship between these two illnesses on a state-by-state basis."
  },
  {
    "objectID": "conclusion.html#summary",
    "href": "conclusion.html#summary",
    "title": "5  Conclusion",
    "section": "5.1 Summary",
    "text": "5.1 Summary\nThrough our static and dynamic data analysis on diversified dataset resources, we found several exciting phenomena within the short period of 2019 to 2023, a balanced time gap before and after the COVID-19 outbreak. Starting from diseases of similar transmission methods, we found that not all of them follow the same pattern as Covid, nationally or individually, such as influenza. Interestingly, pneumonia matches our expectation that it not only follows the trends but also has a decreasing number of casualties compared to the pandemic. This somewhat confirms our claim that there are some underlying factors that cause people to change their mindset and habits, which as a result is reflected in the deaths of diseases.\nIn addition to a specific group of diseases, we extend our proposition to a broader range of diseases such as Septicemia, Magnant neoplasms and so on. We found a similar trend in all diseases when given a fixed date a higher casualty in one disease tends to have higher casualties in others except for “Malignant Neoplasm” and “Combined Covid” which shows a weak correlation between the two.\nAt the end, we explored the relationship between vaccinations and the total deaths of the diseases. At a high level, we found that the number of vaccinations is high related to the number of deaths for diseases. However, it is hard to tell the casualities between the two merely based on the information we have. However, we can see that due the pandemic the number of vaccinations increases across the years and age groups, which once again confirms our initial hypothesis that after the outbreak of COVID-19, the casualties of diseases drop potentially due to people’s changes in mindset and other habits."
  },
  {
    "objectID": "conclusion.html#limitation",
    "href": "conclusion.html#limitation",
    "title": "5  Conclusion",
    "section": "5.2 Limitation",
    "text": "5.2 Limitation\nOur exploration suffered from several limitations, including but not confined to missing data, insufficient data, and lack of normalization. As mentioned in the Data Section, a few of the data are missing in all three datasets. Some of them are due to the discrepancy of time collection while others may be caused by variations in data collection. Regardless of the plausible reasons, these are the challenges we encounter during the research. Ideally, we would like to fill in these data either by some estimators such as mean or median. However, due to the time interval the data were collected, it is more reasonable and practical to remove those missing values to avoid any potential misinterpretation given that we are relatively large amounts of datasets. Also, in our exploratory data analysis we mainly use the counts/frequency to compare across various states. However, it would make more sense to compare them after some kind of normalization, such as dividing the frequency by the state population to the density of the death occurrences."
  },
  {
    "objectID": "conclusion.html#future-direction",
    "href": "conclusion.html#future-direction",
    "title": "5  Conclusion",
    "section": "5.3 Future Direction",
    "text": "5.3 Future Direction\nIn the future, we aim to go into more detail at the regional levels, such as subregions of the national or state level. Since geographical differences may lead to several other factors affecting the death of the diseases. For instance, in our exploration of weekly death counts across the years, we noticed that the number of deaths tends to have a positive relationship with temperature, part of which is caused by geographical variation. However, in this research we are unsure whether there are any changes before and after COVID-19. Similarly transportation, distribution of medical resources and regional customs are all potential factors leading to disease casualties but may have been changed accordingly due to the outbreak. Hence, we need to collect more regional data to follow up on our current studies."
  },
  {
    "objectID": "conclusion.html#lessons-learned",
    "href": "conclusion.html#lessons-learned",
    "title": "5  Conclusion",
    "section": "5.4 Lessons Learned",
    "text": "5.4 Lessons Learned\nThere are numerous types of graphs we can use to convey similar information and display it given the same set of datasets. The main distinction is that depending on our needs and focus we would prefer one to another, regardless of its interactivity with readers or visibility. For instance, if we want to know about the correlation specifically between two diseases, we will definitely go for scatterplots or biplots rather than fancy parallel coordinate plots. That is to say what matters most in exploratory data analysis is how data is cleaned, processed and displayed. Meanwhile compared to regular R, d3 offers more flexibility and customization to our graphs not only for static graphs but also for interactive dynamic ones. With exposure to d3 in our exploration, we become more aware and capable of the differentiations between the two."
  }
]